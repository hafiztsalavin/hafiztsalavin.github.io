<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="map[name:Hafiz Tsalavin]">
<meta name="description" content="Hello everyone ! Today I’ll share what I have learned something new in world-deployment like how to quickly set up a local development environment. Yess using vagrant, hearing something weird?
What’s vagrant? Actually, vagrant is tool that makes easy to build and share virtual environment that in normally its take time and effort to configure it one by one. With vagrant makes everything looks like automate by describing the virtual environment setting in the configuration file called Vagrantfile." />
<meta name="keywords" content=", learning, bootcamp" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://hafiztsalavin.com/posts/2021/08/deployment-using-vagrant/" />


    <title>
        
            Deployment using Vagrant :: Hafiz Tsalavin 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://hafiztsalavin.com/main.aaa4299e94595dfb127122d343244362acc9c8619cdf790b520723c2c8071d90.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://hafiztsalavin.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://hafiztsalavin.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://hafiztsalavin.com/favicon-16x16.png">
    <link rel="manifest" href="https://hafiztsalavin.com/site.webmanifest">
    <link rel="mask-icon" href="https://hafiztsalavin.com/safari-pinned-tab.svg" color="#1b1c1d">
    <link rel="shortcut icon" href="https://hafiztsalavin.com/favicon.ico">
    <meta name="msapplication-TileColor" content="#1b1c1d">
    <meta name="theme-color" content="#1b1c1d">



<meta itemprop="name" content="Deployment using Vagrant">
<meta itemprop="description" content="Hello everyone ! Today I’ll share what I have learned something new in world-deployment like how to quickly set up a local development environment. Yess using vagrant, hearing something weird?
What’s vagrant? Actually, vagrant is tool that makes easy to build and share virtual environment that in normally its take time and effort to configure it one by one. With vagrant makes everything looks like automate by describing the virtual environment setting in the configuration file called Vagrantfile.">
<meta itemprop="datePublished" content="2021-08-07T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-08-07T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="507">
<meta itemprop="image" content="https://hafiztsalavin.com/"/>



<meta itemprop="keywords" content="learning,bootcamp," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hafiztsalavin.com/"/>

<meta name="twitter:title" content="Deployment using Vagrant"/>
<meta name="twitter:description" content="Hello everyone ! Today I’ll share what I have learned something new in world-deployment like how to quickly set up a local development environment. Yess using vagrant, hearing something weird?
What’s vagrant? Actually, vagrant is tool that makes easy to build and share virtual environment that in normally its take time and effort to configure it one by one. With vagrant makes everything looks like automate by describing the virtual environment setting in the configuration file called Vagrantfile."/>






    <meta property="article:section" content="Development" />



    <meta property="article:published_time" content="2021-08-07 00:00:00 &#43;0000 UTC" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://hafiztsalavin.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text">_ cd /hafiztsalavin/</span>
            <span class="logo__cursor" style=
                  "visibility:hidden;
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://hafiztsalavin.com/about/">About</a></li><li><a href="https://hafiztsalavin.com/posts/">All Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                

<div>
  
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        3 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://hafiztsalavin.com/posts/2021/08/deployment-using-vagrant/">Deployment using Vagrant</a>
      </h1>

      

      

      

      <div style="text-align: justify;" class="post-content">
        <h3 id="hello-everyone-">Hello everyone !</h3>
<p>Today I’ll share what I have learned something new in world-deployment like how to quickly set up a local development environment. Yess using vagrant, hearing something weird?</p>
<h3 id="whats-vagrant">What’s vagrant?</h3>
<p>Actually, vagrant is tool that makes easy to build  and share virtual environment that in normally its take time and effort to configure it one by one. With vagrant makes everything looks like automate by describing the virtual environment setting in the configuration file called <code>Vagrantfile</code>.</p>
<p>So many benefits using vagrant, one the most benefits is we can easily build the same environment in multiple times with same setting in different environment. Other than, we can sharing a <code>Vagrantfile</code> to other people to provide the same virtual environment.</p>
<h3 id="lets-play">Lets Play</h3>
<p>Oke, first of all we need virtual box and I assume you already install the virtual box to simulation production our application. Lets install vagrant with:</p>
<p><code>sudo apt-get -y install vagrant</code></p>
<p>And than we need add the vagrant box with the command:</p>
<p><code>vagrant box add &lt;your main root project directory&gt;/focal64</code></p>
<p>After that you can running this command in root project directory:</p>
<p><code>vagrant init ubuntu/focal64</code></p>
<p>This will generate a Vagrantfile with a VM with image ubuntu 20.04 (Focal Fossa).
And now you can <code>vagrant up</code> to create the VM also <code>vagrant ssh</code> if use ssh to access the VM.</p>
<p>You can start the VM with <code>vagrant up</code> to stop just with <code>vagrant halt</code> also you can destroy the VM if you no need longer a VM with <code>vagrant destroy --force</code></p>
<p>This time to explore Vagrantfile, lets change the ip network with private network:</p>
<pre><code>Vagrant.configure(&quot;2&quot;) do |config|
  config.vm.box = &quot;ubuntu/focal64&quot;
  config.vm.network &quot;private_network&quot;, ip: &quot;192.168.20.21&quot;
  
  config.vm.provider &quot;virtualbox&quot; do |vb|  
  end
end
</code></pre><p>After saving the Vagrantfile start the VM with <code>vagrant up</code>. In this case we just setup with ip private with ubuntu server 20.04.</p>
<h3 id="deployment">Deployment</h3>
<p>In normally, in the manual step of the deployment is:</p>
<ol>
<li>Install dependencies</li>
<li>Install application</li>
<li>Configure application</li>
<li>Run application</li>
</ol>
<p>When we run our application directly using <code>main.rb</code> it will run the current user and attached to current terminal. What happen if we want to close terminal? or what happent if we want to restart the applicaton?</p>
<p>So we better using servis manager called <code>systemd</code></p>
<h3 id="systemd">Systemd</h3>
<p>Basically, systemd is a service manager that will managed our application like starting application after reboot, restart application etc. In this case, we use Ruby and Sinatra ya. So what we need to use systemd is :</p>
<ul>
<li>Create a new file called sinatra.service inside /etc/systemd/system.</li>
</ul>
<pre><code>    cd /etc/systemd/system
    sudo nano sinatra.service
</code></pre><ul>
<li>Create the code and save the previous ﬁle to <code>/etc/systemd/system as sinatra.service</code></li>
</ul>
<pre><code>    [Unit]
    Description=Sinatra application

    [Service]
    User=root
    WorkingDirectory=/home/vagrant/app
    ExecStart=/usr/bin/ruby web.rb -o 192.168.20.21
    Restart=on-failure

    [Install]
    WantedBy=multi-user.target
</code></pre><ul>
<li>Reload systemd unit list using</li>
</ul>
<pre><code>    sudo systemctl daemon-reload
</code></pre><ul>
<li>Start service using</li>
</ul>
<pre><code>    sudo systemctl start sinatra.service
</code></pre><ul>
<li>Stop service using</li>
</ul>
<pre><code>    sudo systemctl stop sinatral.service
</code></pre><ul>
<li>To check the status</li>
</ul>
<pre><code>    sudo systemctl status sinatral.service
</code></pre><p>That’s it what can i share. And i think Vagrant is a good and simple tool when we are able to quickly set up a local development environment.</p>
<p>Cheers and happy reading! Thank You!</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://hafiztsalavin.com/tags/learning/">learning</a></span>
        <span class="tag"><a href="https://hafiztsalavin.com/tags/bootcamp/">bootcamp</a></span>
        
    </p>

      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://hafiztsalavin.com/categories/development/">Development</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        507 Words
      </p>

      <p> 
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-08-07
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        <div class="pagination__title">
            <span class="pagination__title-h"></span>
            <hr />
        </div>

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://hafiztsalavin.com/posts/2021/08/5th-weekly-reflection/">
                    <span class="button__icon">←</span>
                    <span class="button__text">5th Weekly Reflection</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://hafiztsalavin.com/posts/2021/08/4th-weekly-reflection/">
                    <span class="button__text">4th Weekly Reflection</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>


            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made with &#10084; by <a href="https://github.com/hafiztsalavin">Hafiz Tsalavin</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://hafiztsalavin.com/bundle.min.ace63d93098bf623f7c286a9084a4c22bfc482944c734f87fe0b685c7c6c7fa0ad2edb028c3b4b60d3343720c8ab490b320ad7f8edf4f6e9a6b898fc529057a9.js" integrity="sha512-rOY9kwmL9iP3woapCEpMIr/EgpRMc0&#43;H/gtoXHxsf6CtLtsCjDtLYNM0NyDIq0kLMgrX&#43;O309ummuJj8UpBXqQ=="></script>



    </body>
</html>
